          <!-- page content ends -->
        </div>
      </main>
    </div>
    
    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/wow/wow.min.js"></script>
    <script src="/lib/easing/easing.min.js"></script>
  
  <!-- TinyMCE WYSIWYG Editor (Self-hosted - no domain restrictions) -->
  <script src="/lib/tinymce/tinymce.min.js"></script>
    
    <!-- Suppress noisy extension errors (e.g., MutationObserver observe target not a Node) to avoid breaking admin UX -->
    <script>
      window.addEventListener('unhandledrejection', function(e){
        try{
          var reason = e && e.reason ? (e.reason.message || String(e.reason)) : '';
          if(/Failed to execute 'observe' on 'MutationObserver'/.test(reason)){
            e.preventDefault();
          }
        }catch(_){ /* ignore */ }
      });
    </script>
    
    <!-- Initialize WOW.js for animations -->
    <script>
      new WOW().init();
      
      // Initialize TinyMCE editor for all textareas with class 'wysiwyg'
      (function(){
        var INIT_SELECTOR = 'textarea.wysiwyg';
        
        function initEditors(){
          if(!window.tinymce) {
            console.warn('[TinyMCE] not loaded yet, retrying...');
            return setTimeout(initEditors, 500);
          }
          
          var textareas = document.querySelectorAll(INIT_SELECTOR);
          if(!textareas.length) {
            console.log('[TinyMCE] No textareas found with class "wysiwyg"');
            return;
          }
          
          console.log('[TinyMCE] Initializing on', textareas.length, 'textarea(s)');
          
          textareas.forEach(function(textarea){
            // Skip if already initialized
            if(textarea.style.display === 'none' && textarea.nextSibling && textarea.nextSibling.classList && textarea.nextSibling.classList.contains('tox-tinymce')){
              return;
            }
            
            // Get textarea ID or create one
            var textareaId = textarea.id;
            if(!textareaId){
              textareaId = 'wysiwyg-' + Math.random().toString(36).substr(2, 9);
              textarea.id = textareaId;
            }
            
            // Initialize TinyMCE
            tinymce.init({
              selector: '#' + textareaId,
              height: 400,
              menubar: false,
              plugins: [
                'advlist', 'autolink', 'lists', 'link', 'image', 'charmap',
                'searchreplace', 'visualblocks', 'code', 'fullscreen',
                'insertdatetime', 'media', 'table', 'help', 'wordcount'
              ],
              toolbar: 'undo redo | blocks | ' +
                'bold italic forecolor | alignleft aligncenter ' +
                'alignright alignjustify | bullist numlist outdent indent | ' +
                'removeformat | link image | code | help',
              content_style: 'body { font-family: "Open Sans", Arial, sans-serif; font-size: 14px; }',
              branding: false,
              promotion: false
            });
          });
        }
        
        function onReady(fn){
          if(document.readyState === 'loading'){
            document.addEventListener('DOMContentLoaded', fn, { once: true });
          } else {
            fn();
          }
        }
        
        onReady(initEditors);
        
        // Re-init when Bootstrap tabs are shown
        document.addEventListener('shown.bs.tab', function(){
          setTimeout(initEditors, 150);
        });
      })();
    </script>
    <script>
      // Hide sidebar on nav click or outside click (mobile)
      document.addEventListener('DOMContentLoaded', function() {
        var sidebar = document.querySelector('.admin-sidebar');
        var links = sidebar ? sidebar.querySelectorAll('.nav-link') : [];
        links.forEach(function(link) {
          link.addEventListener('click', function() {
            if(window.innerWidth < 992) document.body.classList.remove('admin-sidebar-open');
          });
        });
        document.addEventListener('click', function(e) {
          if(window.innerWidth < 992 && document.body.classList.contains('admin-sidebar-open')) {
            var sidebar = document.querySelector('.admin-sidebar');
            var toggle = document.querySelector('.admin-sidebar-toggle');
            if(sidebar && !sidebar.contains(e.target) && toggle && !toggle.contains(e.target)) {
              document.body.classList.remove('admin-sidebar-open');
            }
          }
        });
      });
    </script>
  </body>
</html>
